# 双指针

双指针（two pointers）在数组和链表的操作中是非常常见的，很多考察线性数据结构的操作的面试题，都使用双指针法。

## 解题思路

使用双指针解题的第一步：思考使用同向指针还是反向指针。
同向双指针根据指针位置可以把数据从左到右分为 3 个部分：processed、not needed、unkown。
反向双指针根据指针位置可以把数据分为两部分：processed、unknown。
需要注意的是，每一个数据都只能处于一个状态，不能即是 processed 又是 not needed。

题：11、42、283、80、1047、287

## 344 反转字符串

反向双指针的最简单应用

```js
var reverseString = function (s) {
  let i = 0,
    j = s.length - 1;
  while (i < j) {
    const temp = s[i];
    s[i] = s[j];
    s[j] = temp;
    i++;
    j--;
  }
};
```

## 26 删除有序数组中的重复项

这道题的数组是有序的，所以本质上是希望用双指针实现数组中不重复元素向前移动，直到前 i 个都是不重复项。

解释一下该题双指针分区：[ 0 , i ]：processed 即无重复项数组，( i , j ]：处理过的重复项，( j , len-1 )：待处理元素。

```js
var removeDuplicates = function (nums) {
  const len = nums.length;
  if (len < 2) return len;
  let i = (j = 0);

  while (j < len) {
    if (nums[i] === nums[j]) {
      j++;
    } else {
      i++;
      nums[i] = nums[j];
      j++;
    }
  }
  return i + 1;
};
```

## 27 移除元素

### 暴力解法：

O(n^2)

```js
var removeElement = function (nums, val) {
  let size = nums.length;
  for (let i = 0; i < size; i++) {
    if (nums[i] === val) {
      for (let j = i + 1; j < size; j++) {
        nums[j - 1] = nums[j];
      }
      i--;
      size--;
    }
  }
  return size;
};
```

### 快慢指针

通过一个快指针和慢指针在一个 for 循环下完成两个 for 循环的工作。

这道题把数组中元素分为：指定元素和非指定元素，用双指针是希望实现忽略数组中指定元素，遇到非指定元素则向前移动，直到前 i-1 个都是不重复项。

解释一下该题双指针分区：[ 0 , i )：processed 即非指定元素构成的数组，[ i , j ]：指定元素的数组，( j , len-1 )：待处理元素。

但是这道题要注意：存在数组长度为 1，刚好那个元素就是指定元素的情况。所以 i 和 j 都从 0 开始。

```js
var removeElement = function (nums, val) {
  let i = 0;
  for (let j = 0; j < nums.length; j++) {
    if (nums[j] !== val) {
      nums[i] = nums[j]; //nums[j]不是指定元素说明要将它移动到前面去
      i++; //i向后移动，i所在位置用于填充非指定元素
    }
  }
  return i;
};
```
